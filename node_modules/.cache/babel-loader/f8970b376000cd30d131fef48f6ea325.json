{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\sergey\\\\Desktop\\\\react_TodoList\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\sergey\\\\Desktop\\\\react_TodoList\\\\src\\\\components\\\\App\\\\App.js\";\nimport React, { Component } from 'react';\nimport Header from '../Header';\nimport Filter from '../Filter';\nimport List from '../List';\nimport AddItem from '../AddItem';\nimport './App.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.maxId = 1;\n    this.state = {\n      todoData: [this.createNewItem('Սովորել React'), this.createNewItem('Կոֆե խմել'), this.createNewItem('Սովորել Node.js'), this.createNewItem('Հաց ուտել')],\n      searchText: '',\n      filter: 'all' // active, done or all\n\n    };\n\n    this.deleteListItem = id => {\n      const idx = this.getIndex(id);\n      this.setState(({\n        todoData\n      }) => {\n        const before = todoData.slice(0, idx);\n        const after = todoData.slice(idx + 1);\n        return {\n          todoData: [...before, ...after]\n        };\n      });\n    };\n\n    this.addNewItem = text => {\n      text = text.trim();\n      if (!text) return;\n      this.setState(({\n        todoData\n      }) => {\n        return {\n          todoData: [...todoData, this.createNewItem(text)]\n        };\n      });\n    };\n\n    this.onImportant = id => {\n      this.setState(({\n        todoData\n      }) => {\n        return {\n          todoData: this.toggleProperty(todoData, id, 'important')\n        };\n      });\n    };\n\n    this.onDone = id => {\n      this.setState(({\n        todoData\n      }) => {\n        return {\n          todoData: this.toggleProperty(todoData, id, 'isDone')\n        };\n      });\n    };\n\n    this.filter = (items, filter) => {\n      switch (filter) {\n        case 'active':\n          return items.filter(item => !item.isDone);\n\n        case 'done':\n          return items.filter(item => item.isDone);\n\n        default:\n          return items;\n      }\n    };\n\n    this.onFilterChange = filter => {\n      this.setState({\n        filter\n      });\n    };\n\n    this.onSearchChange = text => {\n      this.setState({\n        searchText: text\n      });\n    };\n\n    this.search = (todoData, searchText) => {\n      if (!searchText.length) return todoData;\n      return todoData.filter(item => {\n        return item.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1;\n      });\n    };\n  }\n\n  createNewItem(title) {\n    return {\n      id: this.maxId++,\n      title,\n      important: false,\n      isDone: false\n    };\n  }\n\n  getIndex(id) {\n    const todoData = this.state.todoData;\n    return todoData.findIndex(el => el.id === id);\n  }\n\n  toggleProperty(arr, id, propName) {\n    const idx = this.getIndex(id);\n\n    const obj = _objectSpread({}, arr[idx], {\n      [propName]: !arr[idx][propName]\n    });\n\n    const before = arr.slice(0, idx);\n    const after = arr.slice(idx + 1);\n    return [...before, obj, ...after];\n  }\n\n  render() {\n    const _this$state = this.state,\n          todoData = _this$state.todoData,\n          searchText = _this$state.searchText,\n          filter = _this$state.filter;\n    const visibilItems = this.filter(this.search(todoData, searchText), filter);\n    const doneCount = visibilItems.filter(el => el.isDone).length;\n    const notDoneCount = visibilItems.length - doneCount;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Header, {\n      doneCount: doneCount,\n      notDoneCount: notDoneCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(Filter, {\n      onSearchChange: this.onSearchChange,\n      onFilterChange: this.onFilterChange,\n      filter: this.state.filter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(List, {\n      todoList: visibilItems,\n      onDeleted: this.deleteListItem,\n      onImportant: this.onImportant,\n      onDone: this.onDone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(AddItem, {\n      onAddItem: this.addNewItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/sergey/Desktop/react_TodoList/src/components/App/App.js"],"names":["React","Component","Header","Filter","List","AddItem","App","maxId","state","todoData","createNewItem","searchText","filter","deleteListItem","id","idx","getIndex","setState","before","slice","after","addNewItem","text","trim","onImportant","toggleProperty","onDone","items","item","isDone","onFilterChange","onSearchChange","search","length","title","toLowerCase","indexOf","important","findIndex","el","arr","propName","obj","render","visibilItems","doneCount","notDoneCount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport Header from '../Header';\nimport Filter from '../Filter';\nimport List from '../List';\nimport AddItem from '../AddItem';\n\nimport './App.css';\n\nclass App extends Component {\n\n  maxId = 1;\n\n  state = {\n    todoData: [\n      this.createNewItem('Սովորել React'),\n      this.createNewItem('Կոֆե խմել'),\n      this.createNewItem('Սովորել Node.js'),\n      this.createNewItem('Հաց ուտել'),\n    ],\n    searchText: '',\n    filter: 'all' // active, done or all\n  }\n\n  createNewItem(title) {\n    return {\n      id: this.maxId++,\n      title,\n      important: false,\n      isDone: false\n    }\n  }\n\n  getIndex(id) {\n    const { todoData } = this.state;\n    return todoData.findIndex((el) => el.id === id);\n  }\n\n  toggleProperty(arr, id, propName) {\n    const idx = this.getIndex(id);\n\n    const obj = {\n      ...arr[idx],\n      [propName]: !arr[idx][propName]\n    };\n\n    const before = arr.slice(0, idx);\n    const after = arr.slice(idx + 1);\n\n    return [...before, obj, ...after];\n  }\n\n  deleteListItem = (id) => {\n    const idx = this.getIndex(id);\n\n    this.setState(({ todoData }) => {\n      const before = todoData.slice(0, idx);\n      const after = todoData.slice(idx + 1);\n\n      return {\n        todoData: [...before, ...after]\n      }\n    });\n  };\n\n  addNewItem = (text) => {\n    text = text.trim();\n    if(!text) return;\n\n    this.setState(({ todoData }) => {\n      return {\n        todoData: [...todoData, this.createNewItem(text)]\n      }\n    });\n  };\n\n  onImportant = (id) => {\n    this.setState(({ todoData }) => {\n      return {\n        todoData: this.toggleProperty(todoData, id, 'important')\n      }\n    });\n  };\n\n  onDone = (id) => {\n    this.setState(({ todoData }) => {\n      return {\n        todoData: this.toggleProperty(todoData, id, 'isDone')\n      }\n    });\n  };\n\n  filter = (items, filter) => {\n    switch(filter) {\n      case 'active': return items.filter((item) => !item.isDone);\n      case 'done': return items.filter((item) => item.isDone);\n      default: return items;\n    }\n  };\n\n  onFilterChange = (filter) => {\n    this.setState({ filter });\n  }\n\n  onSearchChange = (text) => {\n    this.setState({ searchText: text });\n  }\n\n  search = (todoData, searchText) => {\n    if(!searchText.length) return todoData;\n\n    return todoData.filter((item) => {\n      return item.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1;\n    });\n  };\n\n  render() {\n    const { todoData, searchText, filter } = this.state;\n    const visibilItems = this.filter(\n      this.search(todoData, searchText), filter\n    );\n\n    const doneCount = visibilItems.filter((el) => el.isDone).length;\n    const notDoneCount = visibilItems.length - doneCount;\n\n    return (\n      <div className=\"container\">\n        <Header doneCount={ doneCount } notDoneCount={ notDoneCount } />\n        <Filter\n          onSearchChange={ this.onSearchChange }\n          onFilterChange={ this.onFilterChange }\n          filter={ this.state.filter }\n        />\n        <List\n          todoList={visibilItems}\n          onDeleted={this.deleteListItem}\n          onImportant={this.onImportant}\n          onDone={this.onDone}\n        />\n        <AddItem onAddItem={this.addNewItem} />\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}